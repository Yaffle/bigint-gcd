<script type="module">

import gcd from './gcd.js';

setTimeout(() => {
  const a = (1n << 200n) + 1n;
  const b = (1n << 100n) + 1n;
  const g = gcd(a, b);
  console.assert(g.toString() === '1', g.toString());
}, 100);

// regression:
var a = 47224680878584892774721521504636737681065246720n;
var b = 43379638141618603274329264619520n;
console.assert(gcd(a, b) === b);

console.assert(gcd(18446744073709551615n, 18446744073709551615n) === 18446744073709551615n);

const u128 = function (hi, lo) {
  return (BigInt.asUintN(64, hi) << 64n) | BigInt.asUintN(64, lo);
};
console.assert(gcd((u128(2n**64n - 1n, 312n) << 100n) + 1n, (u128(1n, 311n) << 100n) + 1n) === 1n);


const tmp = gcd.gcdext(5n**1000n, 7n**1000n);
console.assert(tmp[0] === 15631657117896519054420352392476695037326996136979908841442243802006465277641570624790544714229736678688121150910422953285517012209869330422574181732118307291663149372321575391459627681473328246453188693422783826834883500383824423737477989412898144215734099500073708897553839503116126781744905888591780905379679893141496309275443612552823725769805185855648220256546604275385884159160797367049776168578692437205588039919681837424252453832877530112829178591963128737600904644067976817869663482424768931280638534763063013738080928804066357273138061712639495888629718702095675166314187790884727628560888178873265509657327695057653060952867804992156450302330426839404248369313297528927310899197466582156815124843790990434084728251101289357296505387083752843169039102419642390407634199856721068742307942690145132347814666632263515581763369944000219262n);
console.assert(tmp[1] === -116404385341606940976401089891669507644953284253942120608410189634388807583073501159819335896478660977372338118285893763253511353657445767516635960993836236797812029795411430464451325492394189210205388029224127892458496237353036816118301386028533197383940681083355114972987340842723293370610904285138887817409703085916203271978676246613561625585789114570911199952733424609576078445571219317850354221066944513831040289987484691543784345888023887597591318828620191843824931984403347358722931984795925367733242148216249208161234552084346923851718373720982933808536594229072005069978095958172685934462768138533568150406981957435550922631132032789892065710049453857505815828405023971757908878487979818749n);
console.assert(tmp[2] === 1n);

</script>